<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comunicazione Crittografica Sicura</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsencrypt/3.3.2/jsencrypt.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üîê Comunicazione Crittografica Sicura</h1>
            <p>Comunica in modo sicuro utilizzando crittografia asimmetrica RSA</p>
        </header>

        <main>
            <!-- Sezione Generazione Chiavi -->
            <section class="key-section">
                <h2>üîë Generazione Chiavi</h2>
                <div class="key-controls">
                    <button id="generateKeys" class="btn btn-primary">Genera Nuove Chiavi</button>
                    <button id="exportKeys" class="btn btn-secondary">Esporta Chiavi</button>
                    <button id="importKeys" class="btn btn-secondary">Importa Chiavi</button>
                </div>
                
                <div class="keys-display">
                    <div class="key-pair">
                        <h3>Chiave Pubblica</h3>
                        <textarea id="publicKey" placeholder="La tua chiave pubblica apparir√† qui..." readonly></textarea>
                        <button id="copyPublicKey" class="btn btn-small">üìã Copia</button>
                    </div>
                    
                    <div class="key-pair">
                        <h3>Chiave Privata</h3>
                        <textarea id="privateKey" placeholder="La tua chiave privata apparir√† qui..." readonly></textarea>
                        <button id="copyPrivateKey" class="btn btn-small">üìã Copia</button>
                    </div>
                </div>
            </section>

            <!-- Sezione Messaggi -->
            <section class="message-section">
                <h2>üí¨ Messaggi</h2>
                
                <!-- Invio Messaggi -->
                <div class="message-input">
                    <h3>Invia Messaggio</h3>
                    <div class="input-group">
                        <label for="recipientPublicKey">Chiave Pubblica del Destinatario:</label>
                        <textarea id="recipientPublicKey" placeholder="Incolla qui la chiave pubblica del destinatario..."></textarea>
                    </div>
                    
                    <div class="input-group">
                        <label for="messageToSend">Messaggio da Inviare:</label>
                        <textarea id="messageToSend" placeholder="Scrivi il tuo messaggio qui..."></textarea>
                    </div>
                    
                    <button id="encryptAndSend" class="btn btn-success">üîí Cifra e Prepara per Invio</button>
                    
                    <div class="encrypted-message">
                        <label for="encryptedMessage">Messaggio Cifrato:</label>
                        <textarea id="encryptedMessage" placeholder="Il messaggio cifrato apparir√† qui..." readonly></textarea>
                        <button id="copyEncrypted" class="btn btn-small">üìã Copia</button>
                    </div>
                </div>

                <!-- Ricezione Messaggi -->
                <div class="message-output">
                    <h3>Ricevi Messaggio</h3>
                    <div class="input-group">
                        <label for="encryptedMessageReceived">Messaggio Cifrato Ricevuto:</label>
                        <textarea id="encryptedMessageReceived" placeholder="Incolla qui il messaggio cifrato ricevuto..."></textarea>
                    </div>
                    
                    <button id="decryptMessage" class="btn btn-info">üîì Decifra Messaggio</button>
                    
                    <div class="decrypted-message">
                        <label for="encryptedMessageReceived">Messaggio Decifrato:</label>
                        <textarea id="decryptedMessage" placeholder="Il messaggio decifrato apparir√† qui..." readonly></textarea>
                        <button id="copyDecrypted" class="btn btn-small">üìã Copia</button>
                    </div>
                </div>
            </section>

            <!-- Sezione Istruzioni -->
            <section class="instructions">
                <h2>üìñ Come Utilizzare</h2>
                <div class="instructions-content">
                    <div class="instruction-step">
                        <h4>1. Generazione Chiavi</h4>
                        <p>Clicca su "Genera Nuove Chiavi" per creare la tua coppia di chiavi RSA. La chiave pubblica pu√≤ essere condivisa, quella privata deve rimanere segreta.</p>
                    </div>
                    
                    <div class="instruction-step">
                        <h4>2. Invio Messaggio</h4>
                        <p>Per inviare un messaggio: inserisci la chiave pubblica del destinatario, scrivi il messaggio e clicca "Cifra e Prepara per Invio". Copia il messaggio cifrato e invialo al destinatario.</p>
                    </div>
                    
                    <div class="instruction-step">
                        <h4>3. Ricezione Messaggio</h4>
                        <p>Per ricevere un messaggio: incolla il messaggio cifrato ricevuto e clicca "Decifra Messaggio". Il messaggio originale apparir√† nel campo decifrato.</p>
                    </div>
                    
                    <div class="instruction-step">
                        <h4>‚ö†Ô∏è Sicurezza</h4>
                        <p>Le chiavi vengono generate localmente nel browser. Non vengono mai inviate a server esterni. Mantieni al sicuro la tua chiave privata!</p>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p>üîí Comunicazione Crittografica Sicura - Utilizza crittografia RSA per comunicazioni private</p>
            <p><strong>¬© 2024 Alesx - Tutti i diritti riservati</strong></p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html> 